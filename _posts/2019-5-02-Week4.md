---
layout: post
title: Week 4 - Better Audio Analysis
---

## Goal for the Week:
* Improve on the audio analysis and animation

### Hardware/Mechanical Work:
This week we redesigned our filtering circuit. Instead of one low pass filter, we constructed 4 bandpass filter to separate the input aux signal into 4 different frequency ranges. Aside from that, since mbeds are sampling too slowly, we had to use a op-amp integrator by then end of each channel to sample the signal in hardware.

### Software Work:
This week, the software was updated to take in four analog inputs representing the amount of audio within certain frequency ranges instead of the one analog input representing the audio wave that was being used before. The program was modified to use a timer interrupt to take an analog read of all four inputs every 20 milliseconds. These four inputs could be directly used to determine an animation, without the need of a costly DFT as was needed before. We also coded an animation that would require using the input from all four frequency ranges.

## Results from this Week:
The result from this week is that we have a five panel system which responds to all frequecies of a song. Each panel is lit up differently to show that the panels can be individually referenced. The system runs at 50 frames per second. To demonstrate this result we have a video of the panels lighting up to the song "Handclap" by Fitz and the Tantrums:

[Handclap Demo](https://www.youtube.com/watch?v=U14OnlB-Uko/)
